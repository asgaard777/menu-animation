<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Example Page</title>
    <!--     <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    -->
    <link rel="stylesheet" href="./styles.css" />
  </head>

  <body>
    <div id="page">
      <header>
        <h1>Title of the page</h1>
        <h2>Subtitle of the page</h2>
      </header>

      <div id="content">
        <nav id="sidebar">
          <ul>
            <li class="special">
              <a href="#">Link one</a>
              <ul class="submenu-hide">
                <li><a href="#">Sub Link zero-one</a></li>
                <li><a href="#">Sub Link two</a></li>
                <li><a href="#">Sub Link three</a></li>
                <li><a href="#">Sub Link four</a></li>
              </ul>
            </li>

            <li class="special">
              <a href="#">Link two</a>
              <ul class="submenu-hide">
                <li><a href="#">Sub Link one-one</a></li>
                <li><a href="#">Sub Link two</a></li>
                <li><a href="#">Sub Link three</a></li>
                <li><a href="#">Sub Link four</a></li>
              </ul>
            </li>

            <li class="special">
              <a href="#">Link three</a>
              <ul class="submenu-hide">
                <li><a href="#">Sub Link two-one</a></li>
                <li><a href="#">Sub Link two</a></li>
                <li><a href="#">Sub Link three</a></li>
                <li><a href="#">Sub Link four</a></li>
              </ul>
            </li>

            <li class="special">
              <a href="#">Link four</a>
              <ul class="submenu-hide">
                <li><a href="#">Sub Link three-one</a></li>
                <li><a href="#">Sub Link two</a></li>
                <li><a href="#">Sub Link three</a></li>
                <li><a href="#">Sub Link four</a></li>
              </ul>
            </li>
          </ul>
        </nav>

        <section id="main">
          <h2>Section Title One</h2>
          <p>
            Pitchfork polaroid semiotics, cred crucifix bitters tilde selvage
            disrupt small batch beard pop-up. Viral disrupt ugh leggings
            scenester fap pug. Brunch scenester Thundercats, street art occupy
            four loko kogi banjo sustainable literally. Mumblecore trust fund
            fap Austin letterpress, American Apparel squid Bushwick.
          </p>

          <h2>Section Title Two</h2>
          <p>
            Distillery letterpress asymmetrical, cray mixtape 3 wolf moon Odd
            Future pickled. Shabby chic salvia cardigan wayfarers. Flexitarian
            butcher squid banjo kitsch flannel crucifix pug lomo taxidermy,
            keffiyeh Shoreditch cred.
          </p>
        </section>
      </div>
    </div>

    <script>
      // jquery script for menu effect

      /* $("li.special > a").click(function (e) {
        e.preventDefault();
        const $target = $(e.currentTarget);
        const $submenu = $target.next("ul");
        
        if($target.next("ul").hasClass('submenu-hide')){
            $submenu.slideDown(400).removeClass('submenu-hide').addClass('submenu-show');
        } else {
            $submenu.slideUp(400).removeClass('submenu-show').addClass('submenu-hide');
        }

        const $list = $target.parent().siblings("li.special").find("ul");
        $list.each(function() {
            if($(this).hasClass('submenu-show')){
                $(this).slideUp(400).removeClass('submenu-show').addClass('submenu-hide');
            }
        })  
    }) */

      // Vanilla javascript for menu effect

      const anchors = document.querySelectorAll("li.special > a");
      const li = document.querySelectorAll("li.special");

      function getSiblings(elem) {
        const siblings = [];
        let sibling = elem.parentNode.firstElementChild;

        while (sibling) {
          if (sibling !== elem) {             
            siblings.push(sibling);
          }
          sibling = sibling.nextElementSibling;
        }
        return siblings;
      }

      anchors.forEach((anchor) => {
        const parentLi = anchor.parentNode;
        const parentLiSiblings = getSiblings(parentLi);

        anchor.addEventListener("click", (e) => {
          e.preventDefault();
          const submenu = e.currentTarget.nextElementSibling;
          submenu.classList.toggle("submenu-show");

          for(let i = 0; i < parentLiSiblings.length; ++i){
            parentLiSiblings[i].children[1].classList.remove('submenu-show')
          }
        });
      });
    </script>
  </body>
</html>
